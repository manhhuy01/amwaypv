{"version":3,"sources":["webpack:///./src/components/iconCart.js","webpack:///./src/components/iconDisplay.js","webpack:///./src/components/iconHamburger.js","webpack:///./src/pages/index.js"],"names":["IconCart","_ref","onClick","amount","react_default","a","createElement","stroke","fill","strokeWidth","viewBox","size","height","width","xmlns","d","className","IconDisplay","isGrid","x","y","IconHamburger","version","style","IndexPage","props","_this","_React$Component","call","this","search","value","trim","products","filter","product","searchString","name","setState","concat","onChangeInput","e","target","onSearch","onItemProductCicked","addProductToCart","debounce","state","componentWillReceiveProps","nextProps","length","componentWillMount","pageProductLoaded","render","_this2","_this$props","isLoading","headerChildren","Fragment","display","iconHamburger","type","placeholder","onChange","onFocus","iconDisplay","switchDisplay","gatsby_browser_entry","to","iconCart","cartSelected","totalItem","layout","seo","title","keywords","map","index","card","key","isSimpleDisplay","onAddItemToCart","bind","React","Component","connect","isDarkMode","productReducer","layoutReducer","dispatch","toggleDarkMode","bindActionCreators","getProducts"],"mappings":"yNAoBeA,EAnBE,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,QAASC,EAAZF,EAAYE,OAAZ,OAAyBC,EAAAC,EAAAC,cAAA,UAAQJ,QAASA,GACvDE,EAAAC,EAAAC,cAAA,OACIC,OAAO,QACPC,KAAK,QACLC,YAAY,IACZC,QAAQ,YACRC,KAAK,KAAKC,OAAO,KACjBC,MAAM,KACNC,MAAM,8BACNV,EAAAC,EAAAC,cAAA,QAAMS,EAAE,yUAKNZ,GAAUC,EAAAC,EAAAC,cAAA,OAAKU,UAAU,gBAAgBb,KCEpCc,EAhBK,SAAAhB,GAAA,IAAGiB,EAAHjB,EAAGiB,OAAQhB,EAAXD,EAAWC,QAAX,OAAyBgB,EAC7Cd,EAAAC,EAAAC,cAAA,UAAQJ,QAASA,GAASE,EAAAC,EAAAC,cAAA,OAAKE,KAAK,QAAQW,EAAE,MAAMC,EAAE,MAAMV,QAAQ,oBAAoBC,KAAK,KAAKC,OAAO,MACrGR,EAAAC,EAAAC,cAAA,SACAF,EAAAC,EAAAC,cAAA,QAAMa,EAAE,IAAIC,EAAE,QAAQP,MAAM,SAASD,OAAO,UAC5CR,EAAAC,EAAAC,cAAA,QAAMa,EAAE,IAAIC,EAAE,SAASP,MAAM,SAASD,OAAO,UAC7CR,EAAAC,EAAAC,cAAA,QAAMa,EAAE,IAAIC,EAAE,SAASP,MAAM,SAASD,OAAO,WAGjDR,EAAAC,EAAAC,cAAA,UAAQJ,QAASA,GAAUE,EAAAC,EAAAC,cAAA,OAAKE,KAAK,QAAQW,EAAE,MAAMC,EAAE,MAAMT,KAAK,KAAKC,OAAO,KAAKF,QAAQ,qBAC3FN,EAAAC,EAAAC,cAAA,SACCF,EAAAC,EAAAC,cAAA,QAAME,KAAO,QAAQO,EAAE,wVCCTM,EAXO,SAAApB,GAAA,IAAGC,EAAHD,EAAGC,QAAH,OAAiBE,EAAAC,EAAAC,cAAA,UAAQJ,QAASA,GACpDE,EAAAC,EAAAC,cAAA,OACIM,OAAO,OACPU,QAAQ,MACRZ,QAAQ,YACRG,MAAM,QAENT,EAAAC,EAAAC,cAAA,QAAMiB,MAAO,CAAEf,KAAM,SAAWO,EAAE,yRCiBpCS,cACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MA2BFC,OAAS,WACP,IAAIC,EAAQL,EAAKK,MAAMC,OACvB,GAAKD,EAAL,CAOA,IAAIE,EAAWP,EAAKD,MAAMQ,SAASC,OAAO,SAAAC,GAAO,OAAIC,YAAaL,EAAOI,EAAQE,QACjFX,EAAKY,SAAS,CACZL,SAAQ,GAAAM,OAAMN,UARdP,EAAKY,SAAS,CACZL,SAAQ,GAAAM,OAAMb,EAAKD,MAAMQ,aAhCZP,EA2CnBc,cAAgB,SAACC,GACff,EAAKK,MAAQU,EAAEC,OAAOX,MACtBL,EAAKiB,YA7CYjB,EAgDnBkB,oBAAsB,SAACT,GACrBT,EAAKD,MAAMoB,iBAAiB,CAAEV,aA/C9BT,EAAKiB,SAAWG,IAASpB,EAAKI,OAAQ,KACtCJ,EAAKqB,MAAQ,CACXd,SAAU,IAJKP,sCAQnBsB,0BAAA,SAA0BC,GACpBA,EAAUhB,SAASiB,SAAWrB,KAAKJ,MAAMQ,SAASiB,QACpDrB,KAAKS,SAAS,CACZL,SAAQ,GAAAM,OAAMU,EAAUhB,eAK9BkB,mBAAA,WACEtB,KAAKJ,MAAM2B,oBAIPvB,KAAKJ,MAAMQ,SAASiB,SAAWrB,KAAKkB,MAAMd,SAASiB,QACrDrB,KAAKS,SAAS,CACZL,SAAQ,GAAAM,OAAMV,KAAKJ,MAAMQ,eA6B/BoB,OAAA,WAAS,IAAAC,EAAAzB,KAAA0B,EACuB1B,KAAKJ,MAA3B+B,EADDD,EACCC,UAAWtC,EADZqC,EACYrC,OACXe,EAAaJ,KAAKkB,MAAlBd,SAGFwB,EAAkBrD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAqD,SAAA,KACtBtD,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEoC,QAAS,SACrBvD,EAAAC,EAAAC,cAAA,6BAKFF,EAAAC,EAAAC,cAAA,OAAKU,UAAU,kBACbZ,EAAAC,EAAAC,cAACsD,EAAD,OAEFxD,EAAAC,EAAAC,cAAA,SACEuD,KAAK,OACL7C,UAAU,eACV8C,YAAY,eACZC,SAAUlC,KAAKW,cACfwB,QAAS,SAACvB,GAAQA,EAAEC,OAAOX,MAAQ,GAAIuB,EAAKd,cAAc,CAAEE,OAAQ,CAAEX,MAAO,SAE/E3B,EAAAC,EAAAC,cAAA,OAAKU,UAAU,gBACbZ,EAAAC,EAAAC,cAAC2D,EAAD,CAAa/D,QAAS2B,KAAKJ,MAAMyC,cAAehD,QAASA,IACzDd,EAAAC,EAAAC,cAAC6D,EAAA,EAAD,CAAMC,GAAG,UAAShE,EAAAC,EAAAC,cAAC+D,EAAD,CAAUlE,OAAQ0B,KAAKJ,MAAM6C,aAAaC,eAGhE,OACEnE,EAAAC,EAAAC,cAACkE,EAAA,EAAD,CACEtD,OAAQA,EACRsB,cAAeX,KAAKW,cACpBiB,eAAgBA,GAGhBrD,EAAAC,EAAAC,cAACmE,EAAA,EAAD,CAAKC,MAAM,iBAAiBC,SAAU,qBAAuB1C,SAAUA,IAErEuB,EAAYpD,EAAAC,EAAAC,cAAA,oCACVF,EAAAC,EAAAC,cAAA,OAAKU,UAAWE,EAAS,oBAAsB,6BAE3Ce,EAAS2C,IAAI,SAACzC,EAAS0C,GAAV,OACXzE,EAAAC,EAAAC,cAACwE,EAAA,EAAD,CACEC,IAAKF,EACL1C,QAASA,EACT6C,iBAAkB9D,EAClB+D,gBAAiB3B,EAAKV,oBAAoBsC,KAAK5B,EAAMnB,aAjGjDgD,IAAMC,WA4HfC,sBAhBS,SAAAtC,GAAK,MAAK,CAChCuC,WAAYvC,EAAMwC,eAAeD,WACjCrD,SAAUc,EAAMwC,eAAetD,SAC/BuB,UAAWT,EAAMwC,eAAe/B,UAChCtC,OAAQ6B,EAAMyC,cAActE,OAC5BoD,aAAcvB,EAAMwC,eAAejB,eAGV,SAAAmB,GAAQ,MAAK,CACtCC,eAAgBC,YAAmBD,IAAgBD,GACnDG,YAAaD,YAAmBC,IAAaH,GAC7CvB,cAAeyB,YAAmBzB,IAAeuB,GACjDrC,kBAAmBuC,YAAmBvC,IAAmBqC,GACzD5C,iBAAkB8C,YAAmB9C,IAAkB4C,KAG1CJ,CAA6C7D","file":"component---src-pages-index-js-2b618663901bce455fa7.js","sourcesContent":["import React from 'react'\r\nconst IconCart = ({ onClick, amount }) => <button onClick={onClick}>\r\n    <svg\r\n        stroke=\"white\"\r\n        fill=\"white\"\r\n        strokeWidth=\"0\"\r\n        viewBox=\"0 0 24 24\"\r\n        size=\"23\" height=\"23\"\r\n        width=\"25\"\r\n        xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path d=\"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z\">\r\n\r\n        </path>\r\n    </svg>\r\n    {\r\n        !!amount && <div className=\"badge-number\">{amount}</div>\r\n    }\r\n\r\n</button>\r\n\r\nexport default IconCart","import React from 'react'\r\nconst IconDisplay = ({ isGrid, onClick }) => isGrid ? \r\n<button onClick={onClick}><svg fill=\"white\" x=\"0px\" y=\"0px\" viewBox=\"0 0 28.617 28.617\" size=\"20\" height=\"20\">\r\n    <g>\r\n    <rect x=\"0\" y=\"1.645\" width=\"28.617\" height=\"6.402\"/>\r\n    <rect x=\"0\" y=\"11.247\" width=\"28.617\" height=\"6.398\"/>\r\n    <rect x=\"0\" y=\"20.572\" width=\"28.617\" height=\"6.4\"/>\r\n    </g>\r\n</svg></button> : \r\n<button onClick={onClick} ><svg fill=\"white\" x=\"0px\" y=\"0px\" size=\"20\" height=\"20\" viewBox=\"0 0 27.709 27.709\">\r\n<g>\r\n\t<path fill = \"white\" d=\"M9.84,0.078h7.655V7.73H9.84V0.078z M9.84,9.918h7.655v7.652H9.84V9.918z M0,9.918h7.652v7.652H0\r\n\t\tV9.918z M0,0.078h7.652V7.73H0V0.078z M0.003,19.978h7.649v7.654H0.003V19.978z M9.843,19.978h7.652v7.654H9.843V19.978z\r\n\t\t M20.054,0.078h7.655V7.73h-7.655V0.078z M20.054,9.918h7.655v7.652h-7.655V9.918z M20.054,19.978h7.655v7.654h-7.655V19.978z\"/>\r\n</g>\r\n</svg></button>\r\n\r\nexport default IconDisplay;","import React from 'react'\r\nconst IconHamburger = ({ onClick }) => <button onClick={onClick}>\r\n    <svg\r\n        height=\"32px\"\r\n        version=\"1.1\"\r\n        viewBox=\"0 0 32 32\"\r\n        width=\"32px\"\r\n    >\r\n        <path style={{ fill: 'white' }} d=\"M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z\" />\r\n    </svg>\r\n</button>\r\n\r\nexport default IconHamburger","import React from \"react\"\r\nimport { Link } from \"gatsby\"\r\n\r\nimport debounce from 'lodash.debounce'\r\n\r\n// import lozad from 'lozad'\r\n\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux'\r\nimport { toggleDarkMode } from '../containers/products/actions'\r\n\r\nimport Layout from \"../components/layout\"\r\nimport SEO from \"../components/seo\"\r\nimport IconCart from '../components/iconCart'\r\nimport IconDisplay from '../components/iconDisplay'\r\nimport IconHamburger from '../components/iconHamburger'\r\nimport Card from '../components/card'\r\n\r\n\r\nimport { getProducts, addProductToCart } from '../containers/products/actions'\r\nimport { switchDisplay, pageProductLoaded } from '../containers/layout/actions'\r\n\r\nimport { searchString } from '../services/commonFuncs'\r\n\r\n\r\nclass IndexPage extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.onSearch = debounce(this.search, 300)\r\n    this.state = {\r\n      products: []\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.products.length !== this.props.products.length) {\r\n      this.setState({\r\n        products: [...nextProps.products]\r\n      })\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.props.pageProductLoaded();\r\n    // if (!this.props.products.length) {\r\n    //   this.props.getProducts();\r\n    // }\r\n    if (this.props.products.length && !this.state.products.length) {\r\n      this.setState({\r\n        products: [...this.props.products]\r\n      })\r\n    }\r\n  }\r\n\r\n  search = () => {\r\n    let value = this.value.trim()\r\n    if (!value) {\r\n      this.setState({\r\n        products: [...this.props.products]\r\n      })\r\n      return;\r\n    };\r\n\r\n    let products = this.props.products.filter(product => searchString(value, product.name))\r\n    this.setState({\r\n      products: [...products]\r\n    })\r\n  }\r\n\r\n  onChangeInput = (e) => {\r\n    this.value = e.target.value;\r\n    this.onSearch();\r\n  }\r\n\r\n  onItemProductCicked = (product) => {\r\n    this.props.addProductToCart({ product })\r\n  }\r\n\r\n  render() {\r\n    const { isLoading, isGrid } = this.props;\r\n    const { products } = this.state;\r\n\r\n\r\n    const headerChildren = (<>\r\n      <div style={{ display: 'none' }}>\r\n        <h1>\r\n          Sản phẩm Amway\r\n        </h1>\r\n\r\n      </div>\r\n      <div className=\"hamburger-menu\">\r\n        <IconHamburger />\r\n      </div>\r\n      <input\r\n        type=\"text\"\r\n        className=\"input-search\"\r\n        placeholder=\"Tìm sản phẩm\"\r\n        onChange={this.onChangeInput}\r\n        onFocus={(e) => { e.target.value = ''; this.onChangeInput({ target: { value: '' } }) }}\r\n      />\r\n      <div className=\"header-right\">\r\n        <IconDisplay onClick={this.props.switchDisplay} isGrid={!isGrid} />\r\n        <Link to=\"/order\"><IconCart amount={this.props.cartSelected.totalItem} /></Link>\r\n      </div>\r\n    </>)\r\n    return (\r\n      <Layout\r\n        isGrid={isGrid}\r\n        onChangeInput={this.onChangeInput}\r\n        headerChildren={headerChildren}\r\n      >\r\n        {/* <button onClick={toggleDarkMode}>Click me</button> */}\r\n        <SEO title=\"Sản phẩm Amway\" keywords={[`Amway`, `Sản phẩm`]} products={products} />\r\n        {\r\n          isLoading ? <div> Đang tải sản phẩm...</div> :\r\n            <div className={isGrid ? \"product-container\" : \"product-container--simple\"}>\r\n              {\r\n                products.map((product, index) =>\r\n                  <Card\r\n                    key={index}\r\n                    product={product}\r\n                    isSimpleDisplay={!isGrid}\r\n                    onAddItemToCart={this.onItemProductCicked.bind(this, product)}\r\n\r\n                  />)\r\n              }\r\n            </div>\r\n        }\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isDarkMode: state.productReducer.isDarkMode,\r\n  products: state.productReducer.products,\r\n  isLoading: state.productReducer.isLoading,\r\n  isGrid: state.layoutReducer.isGrid,\r\n  cartSelected: state.productReducer.cartSelected,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  toggleDarkMode: bindActionCreators(toggleDarkMode, dispatch),\r\n  getProducts: bindActionCreators(getProducts, dispatch),\r\n  switchDisplay: bindActionCreators(switchDisplay, dispatch),\r\n  pageProductLoaded: bindActionCreators(pageProductLoaded, dispatch),\r\n  addProductToCart: bindActionCreators(addProductToCart, dispatch),\r\n\r\n})\r\nexport default connect(mapStateToProps, mapDispatchToProps)(IndexPage)\r\n"],"sourceRoot":""}